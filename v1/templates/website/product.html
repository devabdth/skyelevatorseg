<!DOCTYPE html>
<html dir="{%if lang == 'AR'%} {{'rtl'}} {%else%} {{'ltr'}}{%endif%}">
<head>
  <meta charset="utf-8">
<meta name="description" content="{{content.global_[lang]['shortDescription']}}">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <link rel="stylesheet" href="{{url_for('static', filename='website/product/styles/computer.css')}}"/>
  <link rel="stylesheet" href="{{url_for('static', filename='website/product/styles/mobile.css')}}"/>
  <link rel="stylesheet" href="{{url_for('static', filename='website/product/styles/tablet.css')}}"/>
  <link rel="stylesheet" href="{{url_for('static', filename='website/global/styles/computer.css')}}"/>
  <link rel="stylesheet" href="{{url_for('static', filename='website/global/styles/mobile.css')}}"/>
  <link rel="stylesheet" href="{{url_for('static', filename='website/global/styles/tablet.css')}}"/>
  <script src="{{url_for('static', filename='website/global/scripts/main.js')}}"></script>
  <script src="{{url_for('static', filename='website/product/scripts/main.js')}}"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link rel="icon" type="image/x-icon" href="{{url_for('static', filename='website/global/styles/images/favicon.ico')}}">
  <title>{{content.global_[lang]["platformTitle"]}} - {{product.name[lang]}}</title>
</head>
<body>
  {%if lang == 'AR'%}
  <style>
    :root {
      --pff: 'Almarai';
      --sff: 'Mondai';
    }
  </style>
  {%else%}
  <style>
    :root {
      --pff: 'Playfair Display';
      --sff: 'Montserrat';
    }
  </style>
  {%endif%}
  <header>
    <a href="/">{{content.global_[lang]["platformTitle"]}}</a>
    <div id="nav">
      <a href="/" class="header-nav-item">{{content.tabs[lang]["home"]}}</a>
      <a href="/installations/" class="header-nav-item">{{content.tabs[lang]["installations"]}}</a>
      <a href="/modernization/" class="header-nav-item">{{content.tabs[lang]["modernization"]}}</a>
      <a href="/maintenance/" class="header-nav-item">{{content.tabs[lang]["maintenance"]}}</a>
      <a href="/spareParts/" class="header-nav-item">{{content.tabs[lang]["spareParts"]}}</a>
      <a href="/blog/" class="header-nav-item">{{content.tabs[lang]["blog"]}}</a>
      <a href="/contact/" class="header-nav-item">{{content.tabs[lang]["contact"]}}</a>
      <a href="/aboutUs/" class="header-nav-item">{{content.tabs[lang]["aboutUs"]}}</a>
    </div>
    <div id="options">
      <div class="drawer-btn" onclick="openDrawer();"><label class="hamburger">
        <input type="checkbox">
        <svg viewBox="0 0 32 32">
          <path class="line line-top-bottom" d="M27 10 13 10C10.8 10 9 8.2 9 6 9 3.5 10.8 2 13 2 15.2 2 17 3.8 17 6L17 26C17 28.2 18.8 30 21 30 23.2 30 25 28.2 25 26 25 23.8 23.2 22 21 22L7 22"></path>
          <path class="line" d="M7 16 27 16"></path>
        </svg>
      </label>
    </div>
    <div class="user header-dropdown">
      <button class="main-icon-button" id="user"><i class="user"></i></button>
      <div class="user header-dropdown-content">
        <div id="dropdown-tabs">
          {% if user_data %}
          <button class="user shadow-button" onclick="window.open('/profile/', '_self');">{{content.tabs[lang]["profile"]}}</button>
          <button class="user shadow-button" style="color: red" onclick="logout(this)">{{content.actions[lang]["logout"]}}</button>
          {%else%}
          <button class="user shadow-button" onclick="window.open('/login/', '_self');">{{content.actions[lang]["login"]}}</button>
          {%endif%}
        </div>
      </div>
    </div>        
    <div class="lang header-dropdown">
      <button class="main-icon-button" id="lang"><i class="lang"></i></button>
      <div class="lang header-dropdown-content">
        <div id="dropdown-tabs">
          <button class="lang {%if lang == 'EN' %} active {%endif%} shadow-button" onclick="toggleLang(`{{lang}}`)">English</button>
          <button class="lang {%if lang == 'AR' %} active {%endif%} shadow-button" onclick="toggleLang(`{{lang}}`)">العربية</button>
        </div>
      </div>
    </div>      
    <div class="theme-controller">
      <label for="theme" class="theme">
        <span class="theme__toggle-wrap">
          <input id="theme" class="theme__toggle" type="checkbox" role="switch" name="theme" value="dark">
          <span class="theme__fill"></span>
          <span class="theme__icon">
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
            <span class="theme__icon-part"></span>
          </span>
        </span>
      </label>
    </div>
  </div>
</header>
    <section id="entry">
      <div id="content">
        <h4 style="font-family: var(--sff)">
          {{category.name[lang]}}
        </h4>
        <h1 style="font-family: var(--sff)">
          {{product.name[lang]}}
        </h1>
        <p style="font-family: var(--sff)">
          {{product.bio[lang]}}
        </p>
        <div style="width: 100%; display: flex; align-items: center; justify-content: end;">
          <button
            class="main-button">
            {{content.actions[lang]['sendInquery']}}
          </button>
        </div>
        <p id="status-msg"></p>
      </div>
      <div id="product-slide-show">
        <div
          id="current-slide"
        ><img src='/assets/products/name/{{product['id']}}-{{product.assets[0]}}/' alt="{{product.bio[lang]}}"></div>
        <div class="all-slides" id="left">
          <div
            class="side-slide active-slide"
            id="{{product['id']}}-{{product.assets[0]}}"
          ><img src='/assets/products/name/{{product['id']}}-{{product.assets[0]}}/' alt="{{product.bio[lang]}}"></div>
          {% for asset in product.assets[1:4] %}
          <div
            class="side-slide"
            id="{{product['id']}}-{{asset}}"
          ><img src='/assets/products/name/{{product['id']}}-{{asset}}/' alt="{{product.bio[lang]}}"></div>
          {% endfor %}
        </div>
        <div class="all-slides" id="right">
          {% for asset in product.assets[4:] %}
          <div
            class="side-slide"
            id="{{product['id']}}-{{asset}}"
          ><img src='/assets/products/name/{{product['id']}}-{{asset}}/' alt="{{product.bio[lang]}}"></div>
          {% endfor %}
        </div>
      </div>
    </section>
      <h3 style="font-family: var(--sff); padding: 5vh 10%; font-size: 2em; font-weight: 800; background-color: var(--body-bg-color)">{{content.global_[lang]['productInformation']}}</h3>
<!--     <section id="specs">
      <div id="content">
        <div class="specs-row">
          <div id="title">
            <div id="code-icon" class="specs-icon"></div>
            <p style="font-family: var(--sff);">{{content.global_[lang]['code']}}</p>
          </div>
          <div id="content">
            <p style="font-family: var(--sff)">{{product.code}}</p>
          </div>
        </div>
        <div class="specs-divider"></div>
        {% if product.specs %}
        <div class="specs-row">
          <div id="title">
            <div id="specs-icon" class="specs-icon"></div>
            <p style="font-family: var(--sff);">{{content.global_[lang]['productInformation']}}</p>
          </div>
          <div id="content">
            <div style="flex-direction: column;">
              {% for spec in (product.specs[lang]).split('\n') %}
              <p style="font-family: var(--sff)">- {{spec}}<br></p>
              {% endfor %}
            </div>
          </div>
        </div>
        <div class="specs-divider"></div>
        {% endif %}
      </div>
      <div
          id="current-slide"
          style="height: 40vh; width: 100%; background-image: url('/assets/products/name/{{product.id}}-{{product.assets[0]}}/');"
        ></div>
    </section>
 -->    <section class="category-products-section">
      <div id="header">
        <h3 style="font-family: var(--sff)">{{category.name[lang]}}</h3>
        <a style="font-family: var(--sff);" href="//categories//{{category.id}}" class="main-button">{{content.actions[lang]["seeMore"]}}</a>
      </div>
      {% if category.ad_banner %}
        <div id="banner" style="background: linear-gradient(135deg, var(--secondary-color) 10%, {{layout.main_banner.background_color}} 100%);cursor: pointer;" onclick="window.open('{{layout.main_banner.card_action_link}}', '_self');">
          <div id="content">
            {% if category.ad_banner.subtitle[lang] %}
            <p style="font-family:var(--sff); color: {{category.ad_banner.subtitle_color}}">{{category.ad_banner.subtitle[lang]}}</p>
            {% endif %}
            <h2 style="font-family: var(--sff); color: {{category.ad_banner.title_color}}">{{category.ad_banner.title[lang]}}</h2>
            {% if category.ad_banner.action_link %}
            <a class="main-button" href="'{{category.ad_banner.card_action_link}}'" style="border: none; font-family: var(--sff); color: {{category.ad_banner.action_text_color}}; background-color: {{category.ad_banner.action_background_color}}">{{category.ad_banner.action_text[lang]}}</a>
            {% endif %}
          </div>
          <div id="asset" style="background-image: url('/assets/products/name/{{layout.main_banner.asset}}');"></div>
        </div>
      {% endif %}
      <div id="products">
        {% for prod in db_helper.products.get_all_products_by_category(category.id)[:8] %}
      <div class="product-card">
        <div class="cover"><img src="/assets/product/covers/{{product.id}}/" alt="{{product.bio['EN']}}"></div>
        <div class="info">
            <h4>{{product.name[lang]}}</h4>
            <p class="bio">{{(product.bio[lang] |string)[:75]}}</p>
        </div>
        <div class="actions">
          <button class="shadow-button" onclick="window.open('/spareParts/{{product.id}}', '_self')">{{content.actions[lang]['moreInfo']}}</button>
          <button class="main-button" onclick="openSendInqueryDialog('{{product.id}}')">{{content.actions[lang]['sendInquery']}}</button>
        </div>
      </div>
        {% endfor %}
      </div>
    </section>
<footer>
  <div class="footer-column" id="column-one">
    <img id="logo" alt="Sky Elevators {{content.global_[lang]['shortDescription']}}" />
    <div id="footer-msg">
      <h4>{{content.global_[lang]["shortDescription"]}}</h4>
    </div>
  </div>
  <div class="footer-column" id="column-two">
    <div id="tabs">
      <a class="footer-tabs-item" href="/">{{content.tabs[lang]["home"]}}</a>
      <a class="footer-tabs-item" href="/maintenance/">{{content.tabs[lang]["maintenance"]}}</a>
      <a class="footer-tabs-item" href="/spareParts/">{{content.tabs[lang]["spareParts"]}}</a>
      <a class="footer-tabs-item" href="/modernization">{{content.tabs[lang]["modernization"]}}</a>
      <a class="footer-tabs-item" href="/installations">{{content.tabs[lang]["installations"]}}</a>
      <a class="footer-tabs-item" href="/blog/">{{content.tabs[lang]["blog"]}}</a>
      <a class="footer-tabs-item" href="/contact/">{{content.tabs[lang]["contact"]}}</a>
      <a class="footer-tabs-item" href="/aboutUs/">{{content.tabs[lang]["aboutUs"]}}</a>
    </div>
    <div id="contact">
      <div id="links">
        <a href="/privacyPolicy/">{{content.tabs[lang]['privacyPolicy']}}</a>
        <a href="/termsAndConditions/">{{content.tabs[lang]['termsAndConditions']}}</a>
      </div>
      <div id="contact-info">
        <div id="contact-info-snippet">
          <i class="fa-solid fa-phone"></i>
          <p>{{layout.data['CONTACT']['PHONE']}}</p>
        </div>
        <div id="contact-info-snippet">
          <i class="fa-solid fa-envelope"></i>
          <p>{{layout.data['CONTACT']['EMAIL']}}</p>
        </div>
      </div>
      <div id="social-media">
        {% if layout.data['CONTACT']['FACEBOOK'] != "" %}
          <a href="{{layout.data['CONTACT']['FACEBOOK']}}" class="footer-social-media-icon"><i class="fa-brands fa-facebook-f"></i></a>
        {%endif%}
        {% if layout.data['CONTACT']['LINKEDIN'] != "" %}
          <a href="{{layout.data['CONTACT']['LINKEDIN']}}" class="footer-social-media-icon"><i class="fa-brands fa-linkedin"></i></a>
        {%endif%}
        {% if layout.data['CONTACT']['INSTAGRAM'] != "" %}
          <a href="{{layout.data['CONTACT']['INSTAGRAM']}}" class="footer-social-media-icon"><i class="fa-brands fa-instagram"></i></a>
        {%endif%}
        {% if layout.data['CONTACT']['TIKTOK'] != "" %}
          <a href="{{layout.data['CONTACT']['TIKTOK']}}" class="footer-social-media-icon"><i class="fa-brands fa-tiktok"></i></a>
        {%endif%}
        {% if layout.data['CONTACT']['X-TWITTER'] != "" %}
          <a href="{{layout.data['CONTACT']['X-TWITTER']}}" class="footer-social-media-icon"><i class="fa-brands fa-x-twitter"></i></a>
        {%endif%}
      </div>
    </div>
    <div id="copyright">
      <p>{{content.global_[lang]["copyrightMsg"]}}</p>
    </div>
  </div>
</footer>
    <script>
        const init= ()=> {
      initializeProduct({{product.to_dict()|safe}});
      initializeSlideShow('{{product["id"]}}', {{product.assets | safe}}, '/');
    document.firstElementChild.setAttribute('data-theme', '{{mode | lower}}');
    currentMode= '{{mode}}';
if (currentMode === 'DARK') document.querySelector('input#theme').checked= true;
  }

  if (window.addEventListener) window.addEventListener('load', init);
  else if (window.attachEvent) window.attachEvent('onload', init);

    </script>
  </body>
</html>
